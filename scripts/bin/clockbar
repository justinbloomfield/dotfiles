#!/bin/sh
# requires wmutils-core to use like this (dynamic centering)

. panelsrc

while true; do
	Monitors=$(lsd)
	tmp=0                                                                       
#	for m in $(echo "$Monitors"); do                                        
#    		barout+="%{S${tmp}}%{c}$(date "+%H:%M:%S, %A, %B %d")"
#    		let tmp=$tmp+1                                                          
	MON=$(pfd)
	echo $MON >> ~/data
	ROOT_WIDTH="$(dattr w ${MON})"
	echo $ROOT_WIDTH >> ~/data
	BAR_WIDTH="$(( $ROOT_WIDTH ))"
	#XOFFSET="$(($ROOT_WIDTH - $BAR_WIDTH - 25 ))" 
	FONT="$PANEL_FONT"
	OPTS="$PANEL_OPTS -g ${BAR_WIDTH}x15+0+0"
	echo "%{c}$(date "+%H:%M")"
	sleep 1
done | lemonbar $OPTS



